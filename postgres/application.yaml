apiVersion: apps.redskyops.dev/v1alpha1
kind: Application
metadata:
  name: postgres

resources:
- postgres.yaml

parameters: []

scenarios:
- custom:
    initialDelaySeconds: 15
    podTemplate:
      spec:
        containers:
        - name: pgbench
          image: crunchydata/crunchy-pgbench:centos7-11.4-2.4.1
          envFrom:
          - secretRef:
              name: postgres-secret

objectives:
- goals:
  - name: duration
  - name: cost
    requests:
      selector: >-
        app.kubernetes.io/instance=postgres-stormforge-example,
        app.kubernetes.io/name=postgres
